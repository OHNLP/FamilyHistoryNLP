{
  "id": "fh_reln_extraction",
  "description": "A pipeline configuration that extracts family history and clinical entity mentions and outputs as relations",
  "pipeline": [
    {
      "clazz": "org.ohnlp.backbone.io.local.FileSystemExtract",
      "config": {
        "fileSystemPath": "../test_in",
        "recordIDField": "note_id",
        "recordBodyField": "note_text"
      }
    },
    {
      "clazz": "org.ohnlp.medtagger.backbone.MedTaggerBackboneTransform",
      "config": {
        "_desc": "Runs NLP. In this case, we use pasc ruleset that is bundled by default as an example",
        "_desc_ctd": "Note: you will need to install the MedTagger Backbone Component found at https://www.github.com/OHNLP/MedTagger",
        "input": "note_text",
        "ruleset": "Family_History|MedTagger.FH_all.lookup.dict",
        "mode": "STANDALONE_DICT_AND_IE"
      }
    },
    {
      "clazz": "org.ohnlp.familyhistory.FHPostprocessTransformReln",
      "config": {
      }
    },
    {
      "clazz": "org.ohnlp.backbone.io.local.CSVLoad",
      "config": {
        "_desc": "Writes MedTagger output to file as a CSV",
        "_desc_ctd": "Not guaranteed to function on all platforms",
        "fileSystemPath": "../refactor_test_out_reln",
        "writeHeader": true,
        "fields": [
          "document_id",
          "family_member",
          "side",
          "type",
          "clinical_entity",
          "certainty"
        ]
      }
    }
  ]
}